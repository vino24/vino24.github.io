<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="web前端开发, 前端开发工程师, 前端开发攻城师, 前端资源, CSS, JavaScript, HTML, Web标准"><meta name="theme-color" content="#db5945"><title>基于高德地图API开发的通用地点选择组件 | 逢十借一</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">基于高德地图API开发的通用地点选择组件</h1><a id="logo" href="/.">逢十借一</a><p class="description">和自己赛跑的人</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">基于高德地图API开发的通用地点选择组件</h1><div class="post-meta">Aug 16, 2016<span> | </span><span class="category"><a href="/categories/Requirements-Daily/">Requirements&amp;&amp;Daily</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2016/08/16/amap-javaScript-API/" href="/2016/08/16/amap-javaScript-API/#comments" class="ds-thread-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#开始"><span class="toc-number">1.</span> <span class="toc-text">开始</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#引入插件"><span class="toc-number">2.</span> <span class="toc-text">引入插件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#插件加载方式"><span class="toc-number">2.1.</span> <span class="toc-text">插件加载方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#初始化"><span class="toc-number">3.</span> <span class="toc-text">初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初始化地图容器"><span class="toc-number">3.1.</span> <span class="toc-text">初始化地图容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#初始化输入提示"><span class="toc-number">3.2.</span> <span class="toc-text">初始化输入提示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#初始化搜索"><span class="toc-number">3.3.</span> <span class="toc-text">初始化搜索</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#填充默认值"><span class="toc-number">4.</span> <span class="toc-text">填充默认值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#定位到当前行政区"><span class="toc-number">4.1.</span> <span class="toc-text">定位到当前行政区</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#核心业务逻辑"><span class="toc-number">5.</span> <span class="toc-text">核心业务逻辑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#静态地图"><span class="toc-number">6.</span> <span class="toc-text">静态地图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考"><span class="toc-number">7.</span> <span class="toc-text">参考:</span></a></li></ol></div></div><div class="post-content"><script src="/assets/js/APlayer.min.js"> </script><blockquote>
<p>最近有个邀请函的需求，其中有一个地点选择的需求。大致的流程是：<br>信息填写页 - (点击) - 地图选择页面 -(搜索选择地点后返回) - 数据自动填充到信息页面</p>
</blockquote>
<p>之前没有接触过基于地图API的开发，目前国内的主流的两款地图软件也就高德和百度，简单看了下两个的API文档，最后选择高德，个人感觉高德的API文档写的要好点。</p>
<h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><p>高德地图有很多，我们这里选择的是JavaScript API，要使用某个具体的首先要申请key，然后就可以在页面引入API文件了：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"http://webapi.amap.com/maps?v=1.3&amp;key=您申请的key值"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h3 id="引入插件"><a href="#引入插件" class="headerlink" title="引入插件"></a>引入插件</h3><p>这里需要用到高德的三个插件:</p>
<ol>
<li>AMap.CitySearch 城市查询插件</li>
<li>AMap.Autocomplete 输入提示插件</li>
<li>AMap.PlaceSearch 地点选择插件</li>
</ol>
<h4 id="插件加载方式"><a href="#插件加载方式" class="headerlink" title="插件加载方式"></a>插件加载方式</h4><p>插件有两种加载方式，一种是在引入API时通过添加参数来实现</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/javascript"</span></div><div class="line">        src=<span class="string">"http://webapi.amap.com/maps?v=1.3&amp;key=54e484931a6a428c50da305c82bc709a&amp;plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.CitySearch"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<p>另外一种是在代码中通过AMap.plugin方法来使用(PlaceSearch用的是AMap.service方法,一些其他插件也有使用此方法的，搞不太明白差别)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">AMap.plugin(<span class="string">'AMap.Autocomplete'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//回调函数</span></div><div class="line">        <span class="comment">//实例化Autocomplete</span></div><div class="line">        <span class="keyword">var</span> autoOptions = &#123;</div><div class="line">            <span class="attr">city</span>: <span class="string">""</span>, <span class="comment">//城市，默认全国</span></div><div class="line">            input:<span class="string">"input_id"</span><span class="comment">//使用联想输入的input的id</span></div><div class="line">        &#125;;</div><div class="line">        autocomplete= <span class="keyword">new</span> AMap.Autocomplete(autoOptions);</div><div class="line">        <span class="comment">//<span class="doctag">TODO:</span> 使用autocomplete对象调用相关功能</span></div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
<p>个人感觉还是第一种方式更灵活一些。</p>
<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><h4 id="初始化地图容器"><a href="#初始化地图容器" class="headerlink" title="初始化地图容器"></a>初始化地图容器</h4><p>要使用地图需要指定页面中的某元素为地图容器，通过Amap.Map方法来创建容器<br><figure class="highlight lasso"><table><tr><td class="code"><pre><div class="line"><span class="built_in">var</span> <span class="built_in">map</span> = <span class="literal">new</span> AMap.<span class="built_in">Map</span>(<span class="string">'container'</span>,&#123;</div><div class="line">        zoom: <span class="number">10</span>,</div><div class="line">        center: <span class="meta">[</span><span class="number">116.39</span>,<span class="number">39.9</span><span class="meta">]</span></div><div class="line">    &#125;);</div></pre></td></tr></table></figure></p>
<blockquote>
<p>需要特别注意的是这里的map需要是全局的或者要暴露给全局，因为高德地图的<code>http://cache.amap.com/lbs/static/addToolbar.js</code>中需要使用map。所以最好的方法是在初始化后挂在window上<br><code>window.map = map;</code></p>
<h4 id="初始化输入提示"><a href="#初始化输入提示" class="headerlink" title="初始化输入提示"></a>初始化输入提示</h4><figure class="highlight actionscript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> auto = <span class="keyword">new</span> AMap.Autocomplete(&#123;</div><div class="line">     input: <span class="string">'tipinput'</span> <span class="comment">// 绑定输入提示框元素id</span></div><div class="line"> &#125;);</div></pre></td></tr></table></figure>
</blockquote>
<h4 id="初始化搜索"><a href="#初始化搜索" class="headerlink" title="初始化搜索"></a>初始化搜索</h4><figure class="highlight actionscript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> placeSearch = <span class="keyword">new</span> AMap.PlaceSearch(&#123; <span class="comment">//构造地点查询类</span></div><div class="line">        pageSize: <span class="number">5</span>,</div><div class="line">        pageIndex: <span class="number">1</span>,</div><div class="line">        city: <span class="string">"010"</span>, <span class="comment">//城市</span></div><div class="line">        map: map,</div><div class="line">        panel: <span class="string">"result"</span>         <span class="comment">// 搜索结果显示列表绑定元素的id</span></div><div class="line">    &#125;);</div><div class="line">    <span class="comment">//关键字查询</span></div><div class="line">    placeSearch.search(<span class="string">'方恒'</span>, <span class="function"><span class="keyword">function</span><span class="params">(status, result)</span> </span>&#123;</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
<blockquote>
<p>实际项目中更多的是输入提示和搜索结合起来使用，本项目中就是这样用的，在输入时使用输入提示插件，然后当点击提示列表中的某一项时调用搜索。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">AMap.plugin([<span class="string">'AMap.Autocomplete'</span>,<span class="string">'AMap.PlaceSearch'</span>],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="keyword">var</span> autoOptions = &#123;</div><div class="line">          <span class="attr">city</span>: <span class="string">"北京"</span>, <span class="comment">//城市，默认全国</span></div><div class="line">          input: <span class="string">"input"</span><span class="comment">//使用联想输入的input的id</span></div><div class="line">     &#125;;</div><div class="line">     autocomplete= <span class="keyword">new</span> AMap.Autocomplete(autoOptions);</div><div class="line">     <span class="keyword">var</span> placeSearch = <span class="keyword">new</span> AMap.PlaceSearch(&#123;</div><div class="line">              <span class="attr">city</span>:<span class="string">'北京'</span>,</div><div class="line">              <span class="attr">map</span>:map</div><div class="line">     &#125;);</div><div class="line">     AMap.event.addListener(autocomplete, <span class="string">"select"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">           <span class="comment">//TODO 针对选中的poi实现自己的功能</span></div><div class="line">           placeSearch.search(e.poi.name)</div><div class="line">     &#125;);</div><div class="line"> &#125;);</div></pre></td></tr></table></figure>
<h3 id="填充默认值"><a href="#填充默认值" class="headerlink" title="填充默认值"></a>填充默认值</h3><blockquote>
<p>邀请函填写页面的逻辑是用户切换到地点输入一栏时直接跳转到地图页面，也就是说初次跳到地图页面是没有带搜索关键词的，所以需要一个默认值，这里我选择的是当前城市名称作为默认关键词。而这就要先获取到当前城市。</p>
</blockquote>
<h4 id="定位到当前行政区"><a href="#定位到当前行政区" class="headerlink" title="定位到当前行政区"></a>定位到当前行政区</h4><p>关于定位到当前位置有许多种定位方式，大致看了一下每种定位方式的用法，最终选择选择了ip定位，因为相较其他之中没有过多限制，实现起来也相对简单。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">//实例化城市查询类</span></div><div class="line"><span class="keyword">var</span> citysearch = <span class="keyword">new</span> AMap.CitySearch();</div><div class="line"><span class="comment">//自动获取用户IP，返回当前城市</span></div><div class="line">citysearch.getLocalCity(<span class="function"><span class="keyword">function</span>(<span class="params">status, result</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (status === <span class="string">'complete'</span> &amp;&amp; result.info === <span class="string">'OK'</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (result &amp;&amp; result.city &amp;&amp; result.bounds) &#123;</div><div class="line">            <span class="keyword">var</span> cityinfo = result.city;</div><div class="line">            <span class="keyword">var</span> citybounds = result.bounds;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="核心业务逻辑"><a href="#核心业务逻辑" class="headerlink" title="核心业务逻辑"></a>核心业务逻辑</h3><blockquote>
<p>大致的业务逻辑为首先一进来先解析URL，然后获取其中关键词进行搜索，搜索结果返回后为每一项绑定点击事件，点击后即进行新一轮搜索。</p>
</blockquote>
<p>核心代码:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 获取当前城市名称</span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">currentCityInfo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">                <span class="comment">//实例化城市查询类</span></div><div class="line">                <span class="keyword">var</span> citysearch = <span class="keyword">new</span> AMap.CitySearch();</div><div class="line">                <span class="comment">//自动获取用户IP，返回当前城市</span></div><div class="line">                citysearch.getLocalCity(<span class="function"><span class="keyword">function</span> (<span class="params">status, result</span>) </span>&#123;</div><div class="line">                    <span class="keyword">if</span> (status === <span class="string">'complete'</span> &amp;&amp; result.info === <span class="string">'OK'</span>) &#123;</div><div class="line">                        <span class="keyword">if</span> (result &amp;&amp; result.city) &#123;</div><div class="line">                            resolve(result);</div><div class="line">                        &#125;</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        reject(<span class="keyword">new</span> <span class="built_in">Error</span>(result.infocode));</div><div class="line">                    &#125;</div><div class="line">                &#125;);</div><div class="line">            &#125;)</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="comment">// 关键词搜索</span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">chooseLocation</span>(<span class="params">keyword, adcode</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">                <span class="comment">//接收url中传入的搜索值</span></div><div class="line">                AMap.service([<span class="string">'AMap.PlaceSearch'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="comment">//关键字查询</span></div><div class="line">                    <span class="keyword">var</span> placeSearch = initSearch();</div><div class="line">                    placeSearch.setCity(adcode || <span class="string">'100000'</span>);</div><div class="line">                    placeSearch.search(keyword, <span class="function"><span class="keyword">function</span> (<span class="params">status, result</span>) </span>&#123;</div><div class="line">                        <span class="keyword">if</span> (status === <span class="string">'complete'</span> &amp;&amp; result.info === <span class="string">'OK'</span>) &#123;</div><div class="line">                            resolve(result);</div><div class="line">                        &#125; <span class="keyword">else</span> &#123;</div><div class="line">                            reject(<span class="keyword">new</span> <span class="built_in">Error</span>(result.info));</div><div class="line">                        &#125;</div><div class="line">                    &#125;);</div><div class="line">                &#125;);</div><div class="line">            &#125;)</div><div class="line">        &#125;;        </div><div class="line">        </div><div class="line">    <span class="keyword">if</span> (location.search.indexOf(<span class="string">"&amp;"</span>) !== <span class="number">-1</span>)    <span class="comment">// 如果不是初次搜索，展示上次搜索结果</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">decodeURIComponent</span>(location.search.substr(<span class="number">1</span>).split(<span class="string">"&amp;"</span>)[<span class="number">0</span>].split(<span class="string">'='</span>)[<span class="number">1</span>]);</div><div class="line">    <span class="keyword">else</span> &#123;  <span class="comment">// 首次搜索，首先获取当前城市</span></div><div class="line">            currentCityInfo()</div><div class="line">            .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                 <span class="keyword">return</span> data.city;</div><div class="line">            &#125;</div><div class="line">        &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123; <span class="built_in">console</span>.log(error); &#125;)</div><div class="line">        .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">            chooseLocation(data())</div><div class="line">         .then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> poiArr = data.poiList.pois,</div><div class="line">                        resultCount = poiArr.length;</div><div class="line">                markerPoints = []; <span class="comment">// 清空上次搜索的数据</span></div><div class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; resultCount; i++) &#123;</div><div class="line">                    addMarker(poiArr[i]);</div><div class="line">                &#125;</div><div class="line">                point = markerPoints[<span class="number">0</span>];</div><div class="line">                setStorage(poiArr[<span class="number">0</span>].name, getImgUrl());</div><div class="line">                <span class="comment">//注册监听，当选中某条记录时会触发</span></div><div class="line">                AMap.event.addListener(auto, <span class="string">"select"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                    chooseLocation(e.poi.name, e.poi.adcode).then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">                        <span class="keyword">var</span> poiArr = data.poiList.pois,</div><div class="line">                                resultCount = poiArr.length;</div><div class="line">                        markerPoints = []; <span class="comment">// 清空上次搜索的数据</span></div><div class="line">                        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; resultCount; i++) &#123;</div><div class="line">                            addMarker(poiArr[i]);</div><div class="line">                        &#125;</div><div class="line">                    &#125;); <span class="comment">//  选中某条纪录后再次触发搜索,重新绘制地图</span></div><div class="line">                &#125;);</div><div class="line">                <span class="keyword">return</span> data;</div><div class="line">            &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(error);</div><div class="line">            &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="comment">//  panel列表项切换</span></div><div class="line">                <span class="built_in">document</span>.getElementById(<span class="string">'panel'</span>).addEventListener(<span class="string">'click'</span>, clickItem, <span class="literal">false</span>);</div><div class="line">            &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(error);</div><div class="line">            &#125;)</div><div class="line">        &#125;)</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h3 id="静态地图"><a href="#静态地图" class="headerlink" title="静态地图"></a>静态地图</h3><p>地图组件最终返回的具体的地点和一张静态地图。对于静态地图的获取需要用到高德地图的Web服务API，首先要申请Web服务API的key。然后要做的就是依照规范拼接出URL。</p>
<ol>
<li>服务地址：<a href="http://restapi.amap.com/v3/staticmap?parameters" target="_blank" rel="external">http://restapi.amap.com/v3/staticmap?parameters</a> 所有参数均使用和号字符(&amp;)进行分隔</li>
<li>常用的请求参数：<pre><code>* key: 用户申请的key
* location：地图的中心点坐标
* zoom：缩放级别，范围为［1，19］(官方文档中写的是[1,17],但实际最大可以到19)
* size：地图大小
* markers：标注
</code></pre></li>
<li>markers：<blockquote>
<p>在众多的参数中，最终决定地图绘制的即我们需要自己去通过一步步构造的为markers(labels和paths也很常用，但是项目中没有用到，原理类似不做讨论)</p>
</blockquote>
</li>
</ol>
<ul>
<li>格式:<br><code>markers=markersStyle1:location1;location2..|markersStyle2:location3;location4..|markersStyleN:locationN;locationM..</code><br>location为经纬度信息，经纬度之间使用”,”分隔，不同的点使用”;”分隔。 markersStyle可以使用系统提供的样式，也可以使用自定义图片。</li>
<li>markersStyle参数:<ul>
<li>size:值small mid large</li>
<li>color: 颜色</li>
<li>label: [0-9]、[A-Z]、[单个中文字] (当size为small时不展现标注名)<h3 id="参考"><a href="#参考" class="headerlink" title="参考:"></a>参考:</h3></li>
</ul>
</li>
</ul>
<ol>
<li><a href="http://lbs.amap.com/api/javascript-api/guide/quickstart/" target="_blank" rel="external">高德地图JavaScript API 参考文档</a></li>
<li><a href="http://lbs.amap.com/api/webservice/reference/staticmaps/" target="_blank" rel="external">静态地图</a></li>
</ol>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://vino24.cn/2016/08/16/amap-javaScript-API/" data-id="cixa9pom4002eearnwecug50t" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/08/17/ES2015-Object/" class="pre">ES6之对象字面量</a><a href="/2016/08/15/2016-08-15/" class="next">进城记</a></div><div data-thread-key="2016/08/16/amap-javaScript-API/" data-title="基于高德地图API开发的通用地点选择组件" data-url="http://vino24.cn/2016/08/16/amap-javaScript-API/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2016/08/16/amap-javaScript-API/" data-title="基于高德地图API开发的通用地点选择组件" data-url="http://vino24.cn/2016/08/16/amap-javaScript-API/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IE/">IE</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript-API/">JavaScript API</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript-Framework/">JavaScript Framework</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile-Develop/">Mobile Develop</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Performance-Optimize/">Performance Optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Requirements-Daily/">Requirements&&Daily</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/devTools-Configuration/">devTools&&Configuration</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/切图/">切图</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/总结/">总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Ajax/" style="font-size: 15px;">Ajax</a> <a href="/tags/CSS-Layout/" style="font-size: 15px;">CSS Layout</a> <a href="/tags/CSS-Core/" style="font-size: 15px;">CSS Core</a> <a href="/tags/CSS-Collection/" style="font-size: 15px;">CSS Collection</a> <a href="/tags/DOM/" style="font-size: 15px;">DOM</a> <a href="/tags/CSS-core/" style="font-size: 15px;">CSS core</a> <a href="/tags/ES6/" style="font-size: 15px;">ES6</a> <a href="/tags/JavaScript-Core/" style="font-size: 15px;">JavaScript Core</a> <a href="/tags/bind/" style="font-size: 15px;">bind</a> <a href="/tags/PS/" style="font-size: 15px;">PS</a> <a href="/tags/性能优化/" style="font-size: 15px;">性能优化</a> <a href="/tags/avalon-js/" style="font-size: 15px;">avalon.js</a> <a href="/tags/JavaScript-API/" style="font-size: 15px;">JavaScript API</a> <a href="/tags/Flex/" style="font-size: 15px;">Flex</a> <a href="/tags/内存泄漏/" style="font-size: 15px;">内存泄漏</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/Netease-Weekly/" style="font-size: 15px;">Netease Weekly</a> <a href="/tags/react-js/" style="font-size: 15px;">react.js</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/this/" style="font-size: 15px;">this</a> <a href="/tags/three-js/" style="font-size: 15px;">three.js</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/Tips/" style="font-size: 15px;">Tips</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/08/es6-spread-rest/">ES6 spread和rest operator</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/08/react-form/">react中的表单</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/06/github-tip/">github实用技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/02/react-first/">react.js入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/28/avalon-first-md/">avalon.js入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/22/chrome-dev-tools-console/">Chrome Dev Tools使用技巧总结(一) Console</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/02/fetch-api/">Fetch API</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/01/hexo-basic/">hexo常用配置一览</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/31/wechat-music-serach-module-update/">微信点歌模块代码更新及hexo音乐插件</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/27/three.js-first/">three.js入门</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://bgm.iminyao.com/" title="背景音乐" target="_blank">背景音乐</a><ul></ul><a href="http://weibo.com/jzwmxz" title="民谣之家" target="_blank">民谣之家</a><ul></ul><a href="http://www.zhihu.com/people/iminyao" title="逢十借一" target="_blank">逢十借一</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">逢十借一.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"></a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'vino24'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>